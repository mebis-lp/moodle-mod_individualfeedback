{"version":3,"sources":["../src/movequestiongroup.js"],"names":["define","$","init","cmid","sortable","items","handle","containment","update","itemorder","counter","each","elementid","attr","startpos","indexOf","itemid","substr","ajax","type","url","M","cfg","wwwroot","data","action","id","toString","sesskey","dataType","fail","disableSelection"],"mappings":"AAAAA,OAAM,4CAAC,CAAC,QAAD,CAAW,UAAX,CAAD,CAAyB,SAASC,CAAT,CAAkB,CAC7C,MAAO,CACHC,IAAI,CAAE,cAASC,CAAT,CAAe,CAEjBF,CAAC,CAAC,sCAAD,CAAD,CAA0CG,QAA1C,CAAmD,CAC/CC,KAAK,CAAEJ,CAAC,CAAC,2BAAD,CADuC,CAE/CK,MAAM,CAAE,oBAFuC,CAG/CC,WAAW,CAAEN,CAAC,CAAC,8BAAD,CAHiC,CAI/CO,MAAM,CAAE,iBAAqB,IAErBC,CAAAA,CAAS,CAAG,EAFS,CAGrBC,CAAO,CAAG,CAHW,CAIzBT,CAAC,CAAC,iCAAD,CAAD,CAAqCU,IAArC,CAA0C,UAAW,IAC7CC,CAAAA,CAAS,CAAGX,CAAC,CAAC,IAAD,CAAD,CAAQY,IAAR,CAAa,IAAb,CADiC,CAE7CC,CAAQ,CAAGF,CAAS,CAACG,OAAV,CAAkB,QAAlB,EAA8B,CAFI,CAG7CC,CAAM,CAAGJ,CAAS,CAACK,MAAV,CAAiBH,CAAjB,CAHoC,CAIjDL,CAAS,CAACC,CAAD,CAAT,CAAqBM,CAArB,CACAN,CAAO,EACV,CAND,EASAT,CAAC,CAACiB,IAAF,CAAO,CACHC,IAAI,CAAE,MADH,CAEHC,GAAG,CAAEC,CAAC,CAACC,GAAF,CAAMC,OAAN,CAAgB,kCAFlB,CAGHC,IAAI,CAAE,CAAEC,MAAM,CAAE,4BAAV,CACEC,EAAE,CAAEvB,CADN,CAEEM,SAAS,CAAEA,CAAS,CAACkB,QAAV,EAFb,CAGEC,OAAO,CAAEP,CAAC,CAACC,GAAF,CAAMM,OAHjB,CAHH,CAOHC,QAAQ,CAAE,MAPP,CAQHC,IAAI,CAAE,eAAgB,CACrB,CATE,CAAP,CAYH,CA7B8C,CAAnD,EA8BGC,gBA9BH,EA+BH,CAlCE,CAoCV,CArCK,CAAN","sourcesContent":["define(['jquery', 'jqueryui'], function($, jqui) {\n    return {\n        init: function(cmid) {\n            // Move question group within groups or items.\n            $(\"div#individualfeedback_dragarea form\").sortable({\n                items: $('div.questiongroupmoveitem'),\n                handle: '.movequestiongroup',\n                containment: $('#individualfeedback_dragarea'),\n                update: function (event, ui) {\n                    // Get all the question items in the new order.\n                    var itemorder = [];\n                    var counter = 0;\n                    $('div.individualfeedback_itemlist').each(function() {\n                        var elementid = $(this).attr('id');\n                        var startpos = elementid.indexOf('_item_') + 6;\n                        var itemid = elementid.substr(startpos);\n                        itemorder[counter] = itemid;\n                        counter++;\n                    });\n\n                    // Save the new order in the db.\n                    $.ajax({\n                        type: \"POST\",\n                        url: M.cfg.wwwroot + \"/mod/individualfeedback/ajax.php\",\n                        data: { action: 'savequestiongroupitemorder',\n                                id: cmid,\n                                itemorder: itemorder.toString(),\n                                sesskey: M.cfg.sesskey},\n                        dataType: \"json\",\n                        fail: function (data) {\n                        }\n                    });\n\n                }\n            }).disableSelection();\n        }\n    };\n});\n"],"file":"movequestiongroup.min.js"}